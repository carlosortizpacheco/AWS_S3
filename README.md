# AWS_S3

Amazon Simple Storage Service is cloud-based storage that can store an unlimited amount of data and retrieve thata data anytimie over the web.
Highly scalable, reliable, fast and cost-effective data storage built on Amazon's global infrastructure.

## Where's the data stored?

Data is stored in a region.
A region represents a general geographic area.
You choose a region for your data.
Currently 18 geographic regions.
A region contains availability zones.
An AZ is an isolated facility.
Data is replicated across 3 availability zones.
Amazon handles AZ replication.

## Key Concepts
S3 is object based storage (think object = file).
Objects are stored in buckets.
An object can be up to 5 TB.
No limit on bucket size or total data in your account.
Permissions can ve set on buckets an individual objects.
No hierarchy.
Files replicated across at least 3 availability zones.
S3 provides read-after-write consistency por PUTS of new objects.

## What makes up an object?
### Key
This is the name of the object (like a filename) and is used to retrieve the object.
### value
Any sequence of bytes you want to store.
### Version ID
A string generated by Amazon when you add an object to a bucket.
Together the key and version ID uniquely identify and object within a bucket.
### Metadata
Name-value pairs to store the information about the object.
System-meta data - creation data, size, storage, class ,etc.
User metadata - is custom meta data you add to an object.
### Sub resources 
Additional info such as ACL (owner) or torrent file.


## Storage Classes
Storage classes provide a way to select the most cost effective storage for your data basen on how frequently it is accessed an how quickly you need to retrieve it.

### Standar Storage -
Best when you need quick access, frequently.
### Standar Infrequent Access (IA) -
Use when you need data returned quickly, but not frequently asked.
Min 128K object size and min storage timeframe of 30 days.
### One Zone Infrequent Access (IA) -
Use when you have another copy or data can be re-created.
Cheaper but data is only replicated in one Availability Zone.
### Glacier -
Used for long term archive and backup.
Min timeframe 90 days, can take minutes to hours to retrieve.

## Pricing
Data transfer IN to S3 is free.
Data transfer OUT costs.
Pay for request (1000).
Pay for amount of data stored.
Per GB Pricing Generally goes down the more data you store.
Pricing differs across regions.

## Object Tags
Object Tags are a Key-Value pair.
Tags are used for categorizing storage.
Use tags to allow a user/group to read/write objects with a tag.
Create lifecycle rules to move objects based on a tag to cheaper storage tiers.
Use as filters for Analytics and Metrics.
Track costs based on tag.

### Tag Restrictions.
Max 10 tags on an object.
Max 50 tags on a bucket.
Key must be unique.
Key and Values are case sensitive.

## Object LifeCycle Managment
It's a way to manage cost by ensuring objects are automatically moved to the most cost effective storage class.

## ACL (Access Control List)
Grant high level permissions
Typically used for grantint access to other AWS accounts.
Quickly make a bucket or file public.
No complex rule language.

## Bucket Policy
ALLOWS or DENIES a specific PRINCIPAL to perform certain ACTIONS on specific RESOURCES
A JSON document attached to the bucket.
a PRINCIPAL could be an IAM USER, separate AWS account, or could be another AWS Service.
RESOURCES - buckets, objects, tags.
Grant very granular permissions.
Tools built in to AWS to help generate these.

## IAM Policies, Users and Groups
A policy is a JSON document that allows/denies a user, group or service to perfom specific ACTIONS on specific RESOURCES.
A policy can be attached to a single user or group.
Users can be assigned to groups to make managin security policies easier.

## Cross Region Replication
Enables automatic, asynchronous copying of objects across buckets in different AWS Regions. Buckets configured for cross-region replication can be owned by the same AWS account or by different accounts.
